---
import { useTranslations } from "../i18n/utils";
import { languagesList } from "../i18n/ui";
const currentLang = Astro.currentLocale || "es";

const translatedLabels = useTranslations(
  currentLang as keyof typeof languagesList,
);
---

<article
  class="bg-DarkPurple/80 p-2 rounded-lg text-white border-Purple border-8 flex flex-col gap-2"
>
  <p class="uppercase font-bold">{Astro.props.title}</p>
  <div class="flex flex-col justify-between gap-2 h-full">
    <img src={Astro.props.src} alt={Astro.props.alt} loading="lazy" />
    <hr class="w-full border-2" />
    <p class="text-pretty hover:duration-300">{Astro.props.description}</p>
    <hr class="w-full border-2" />

    <div class="flex gap-2 items-center">
      <slot />
    </div>
    <div class="grid grid-cols-2 gap-2">
      <a
        href={Astro.props.code}
        target="_blank"
        rel="noopener"
        class="flex gap-2 items-center m-auto bg-Purple p-2 rounded-lg hover:duration-300 text-white hover:bg-white hover:text-Purple hover:scale-95"
        ><i class="fa-solid fa-code"></i>{translatedLabels("projects.code")}</a
      >
      <a
        href={Astro.props.preview}
        target="_blank"
        rel="noopener"
        class="flex gap-2 items-center m-auto bg-DarkPurple p-2 rounded-lg hover:duration-300 text-white hover:bg-white hover:text-Purple hover:scale-95"
        ><i class="fa-solid fa-eye"></i>{translatedLabels("projects.preview")}
      </a>
    </div>
  </div>
</article>
